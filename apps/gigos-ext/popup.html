<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GigOS Survey Sync</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      width: 320px;
      background: #09090b;
      color: #fafafa;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 13px;
    }
    .header {
      background: #18181b;
      border-bottom: 1px solid #27272a;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .logo { color: #06b6d4; font-weight: 700; font-size: 15px; letter-spacing: 0.1em; }
    .subtitle { color: #71717a; font-size: 11px; }
    .section { padding: 14px 16px; border-bottom: 1px solid #27272a; }
    .label { color: #71717a; font-size: 10px; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 6px; }
    input {
      width: 100%;
      background: #18181b;
      border: 1px solid #3f3f46;
      border-radius: 6px;
      color: #fafafa;
      padding: 6px 10px;
      font-size: 12px;
      outline: none;
    }
    input:focus { border-color: #06b6d4; }
    .status-box {
      background: #18181b;
      border: 1px solid #27272a;
      border-radius: 8px;
      padding: 10px 12px;
      min-height: 48px;
    }
    .status-row { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
    .dot { width: 8px; height: 8px; border-radius: 50%; background: #52525b; flex-shrink: 0; }
    .dot.green { background: #10b981; }
    .dot.cyan { background: #06b6d4; }
    .dot.red { background: #ef4444; }
    .dot.yellow { background: #f59e0b; }
    .count { font-size: 24px; font-weight: 700; color: #06b6d4; }
    .count-label { color: #71717a; font-size: 11px; }
    .btn {
      width: 100%;
      padding: 9px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      font-size: 13px;
      transition: opacity 0.15s;
    }
    .btn:disabled { opacity: 0.4; cursor: not-allowed; }
    .btn-primary { background: #06b6d4; color: #000; }
    .btn-primary:hover:not(:disabled) { background: #22d3ee; }
    .btn-secondary { background: #27272a; color: #fafafa; margin-top: 6px; }
    .btn-secondary:hover:not(:disabled) { background: #3f3f46; }
    .result { padding: 10px 16px; text-align: center; }
    .result.success { color: #10b981; }
    .result.error { color: #ef4444; }
    .jobs-list { max-height: 180px; overflow-y: auto; }
    .job-item {
      padding: 8px 12px;
      border-bottom: 1px solid #27272a;
      font-size: 11px;
    }
    .job-title { color: #fafafa; font-weight: 500; }
    .job-meta { color: #71717a; margin-top: 2px; }
    .pay { color: #10b981; font-weight: 600; }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <div class="logo">GigOS</div>
      <div class="subtitle">Survey Sync v1.0</div>
    </div>
  </div>

  <div class="section">
    <div class="label">GigOS URL</div>
    <input type="text" id="apiUrl" placeholder="http://localhost:3000" />
  </div>

  <div class="section">
    <div class="label">Sync Token</div>
    <input type="password" id="token" placeholder="gigos-sync-secret-2026" />
  </div>

  <div class="section">
    <div class="label">Page Status</div>
    <div class="status-box">
      <div class="status-row">
        <div class="dot" id="pageDot"></div>
        <span id="pageStatus">Checking page...</span>
      </div>
      <div style="margin-top:8px; display:flex; align-items:baseline; gap:6px;">
        <span class="count" id="jobCount">‚Äî</span>
        <span class="count-label" id="jobCountLabel">jobs found on page</span>
      </div>
    </div>
  </div>

  <div class="section" id="jobsSection" style="display:none">
    <div class="label">Found Jobs</div>
    <div class="jobs-list" id="jobsList"></div>
  </div>

  <div class="section">
    <button class="btn btn-primary" id="scrapeBtn" disabled>üîç Scan Page for Jobs</button>
    <button class="btn btn-secondary" id="pushBtn" disabled>üöÄ Push to GigOS</button>
  </div>

  <div id="resultArea"></div>

  <script src="popup.js"></script>
</body>
</html>
